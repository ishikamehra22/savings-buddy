{% extends "base.html" %}
{% block content %}
<div class="row justify-content-center">
  <div class="col-md-6">
    <div class="card p-4 shadow position-relative">
      <a href="javascript:history.back()" class="btn btn-outline-primary btn-sm position-absolute top-0 end-0 m-3">â¬… Back</a>
      <h3 class="mb-4 text-center text-primary">Create Account</h3>
      <form method="post" novalidate>
        {% csrf_token %}
        <div class="mb-3">
  <label for="username">Username</label>
  {{ form.username }}
  {% for error in form.username.errors %}
    <p class="text-danger small mt-1">{{ error }}</p>
  {% endfor %}
</div>

<div class="mb-3">
  <label for="email">Email</label>
  {{ form.email }}
  {% for error in form.email.errors %}
    <p class="text-danger small mt-1">{{ error }}</p>
  {% endfor %}
</div>

<div class="mb-3 position-relative">
  <label for="password1">Password</label>
  <div class="input-group">
    {{ form.password1 }}
    <button type="button" id="togglePassword1" class="btn btn-outline-secondary" style="border-radius: 0 8px 8px 0;">ğŸ‘ï¸</button>
  </div>
  {% for error in form.password1.errors %}
    <p class="text-danger small mt-1">{{ error }}</p>
  {% endfor %}
</div>

<div class="mb-3 position-relative">
  <label for="password2">Confirm Password</label>
  <div class="input-group">
    {{ form.password2 }}
    <button type="button" id="togglePassword2" class="btn btn-outline-secondary" style="border-radius: 0 8px 8px 0;">ğŸ‘ï¸</button>
  </div>
  {% for error in form.password2.errors %}
    <p class="text-danger small mt-1">{{ error }}</p>
  {% endfor %}
</div>


        <button class="btn btn-success w-100 mt-3" type="submit">Register</button>
      </form>
    </div>
  </div>
    <div class="col-md-6">
    <div class="card p-4 shadow">
      <h5>Registration Guidelines</h5>
      <ul>
        <li>Username: letters, numbers, no spaces.</li>
        <li>Password: at least 8 characters, include a number and a symbol.</li>
        <li>Email: use a valid email address.</li>
      </ul>
  </div>
</div>

<script>
  // Password toggle
  const toggle1 = document.getElementById('togglePassword1');
  const toggle2 = document.getElementById('togglePassword2');
  toggle1.addEventListener('click', () => {
    const input = document.getElementById('id_password1');
    input.type = input.type === 'password' ? 'text' : 'password';
    toggle1.textContent = input.type === 'password' ? 'ğŸ‘ï¸' : 'ğŸ™ˆ';
  });
  toggle2.addEventListener('click', () => {
    const input = document.getElementById('id_password2');
    input.type = input.type === 'password' ? 'text' : 'password';
    toggle2.textContent = input.type === 'password' ? 'ğŸ‘ï¸' : 'ğŸ™ˆ';
  });
</script>
{% endblock %}
